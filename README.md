## Использование
Проект написан на .Net. Для сборки необходимо запустить `dotnet run -c Release` (необходимо иметь установленный Dotnet SDK)

## Алгоритмы
### Наивный
Решение перебором описано в `NaiveSolution`. Перебираем все точки на предмет нахождения внутри прямоульника.

|  Ассимптотики  |     |
|--------------- | --------------- |
| Подготовка   | *O(1)*   |
| Ответ на запрос   | *O(N)*   |
| По памяти   | *O(N)* на хранение всех прямоугольников  |

### Сжатие координат на карте
Решение на карте описано в `MapSolution`
Препроцессинг: Построим двумерный массив (_карту_), которая будет содержать количество прямоугольников на заданных координатах. Применим к карте сжатие.
Запрос: Сожмем координаты точки и найдем по сжатым координатам точку на карте.
| Ассимптотики:| |
|-------------|----------|
| Подготовка   |*O(N**3)* | 
| Ответ на запрос | *O(log(N))*|
| По памяти | *O(N**2)* в худшем случае|
### Алгоритм на персистентном дереве отрезков
Решение с помощью дерева отрезов описано в `SegmentTreeSolution`
Препроцессинг: Отсортируем сжатые координаты прямоугольников по иксу и будем добавлять их в дерево в Х начала прямоугольника +1, в Х конца - -1.
Запрос: Сожмем координаты точки. Х - версия дерева, Y - элемент в дереве
| Ассимптотики: |  |
|-------------------------|--|
| Подготовка | *O(N\*log(N))* |
| Ответ на запрос | *O(log(N))* |
| По памяти | *O(N\*log(N))* в худшем случае |

## Выводы
Наивный алгоритм, ожидаемо, показал наихудший результат при выполнении запроса. Однако отсутствие препроцессинга означает преимущество этого алгоритма в системах с малыми объемами данных, а также с постоянно меняющимися данными.
Алгоритм сжатия на карте строится отчетливо дольше, чем персистентное дерево отрезков. Однако простота его исполнения (что ведет к пониженному количеству ошибок) - большое преимущество. Алгоритм можно использовать на средне-небольших объемах данных из-за крайне большого времени подготовки.
Алгоритм на персистентном дереве отрезков - наиболее эффективный. Относительно быстрый препроцессинг и быстрые ответы на запрос - главные его преимущество. Алгоритмм может обработать большие объёмы данных. Если вам нужно считать количество точек в прямоугольках в масштабах Гугла, то персистентное ДО - ваш выбор.
